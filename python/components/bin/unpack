#!/usr/bin/env python3

from argparse import ArgumentParser, Namespace
from pathlib import Path
from shutil import unpack_archive
from sys import stdin


def _parse_args() -> Namespace:
    parser = ArgumentParser()
    parser.add_argument("src", nargs="?", type=Path, default=None)
    parser.add_argument("dest", type=Path)
    parser.add_argument("-", "--stdin", action="store_true")
    return parser.parse_args()


def main() -> None:
    args = _parse_args()
    src = stdin.read() if args.stdin else args.src
    unpack_archive(src, extract_dir=args.dest)


main()
